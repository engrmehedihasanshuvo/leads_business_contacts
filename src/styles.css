@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles (kept for compatibility with existing UI) */
body {
  @apply bg-gray-50;
  font-family: Arial, Helvetica, sans-serif;
  margin: 16px;
}
.container {
  @apply max-w-6xl mx-auto bg-white p-5 rounded shadow;
}
/* App root must be stacked above animated background */
.app-root { position: relative; min-height: 100vh; }

/* Animated background: full-viewport, behind content */
.animated-bg {
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0 */
  z-index: 0; /* sit above page background but behind content */
  overflow: hidden;
  pointer-events: none;
}
.bg-blob {
  position: absolute;
  width: 480px;
  height: 480px;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.75;
  transform-origin: center;
}
.bg-blob.blob1 { background: radial-gradient(circle at 30% 30%, #7dd3fc 0%, #60a5fa 30%, rgba(96,165,250,0.85) 60%, rgba(59,130,246,0.75) 100%); left: -10%; top: -10%; animation: float1 12s ease-in-out infinite; }
.bg-blob.blob2 { /* removed: pink blob styling intentionally disabled */ display: none; }
.bg-blob.blob3 { background: radial-gradient(circle at 40% 60%, #bbf7d0 0%, #86efac 30%, rgba(16,185,129,0.78) 60%, rgba(6,95,70,0.6) 100%); left: 20%; bottom: -20%; animation: float3 18s ease-in-out infinite; }

.bg-gradient-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06));
  mix-blend-mode: overlay;
  pointer-events: none;
}

@keyframes float1 {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(24px) scale(1.05) rotate(6deg); }
  100% { transform: translateY(0) scale(1); }
}
/* float2 keyframes removed because the pink blob has been disabled */
@keyframes float3 {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(20px) scale(0.98) rotate(3deg); }
  100% { transform: translateY(0) scale(1); }
}

/* Card/backdrop to keep the content readable on animated bg */
.container { background: rgba(255,255,255,0.72); backdrop-filter: blur(6px); position: relative; z-index: 10; padding: 22px; border-radius: 10px; }
table {
  width: 100%;
  border-collapse: collapse;
  background: transparent; /* let animated background show through */
  color: #111827; /* standard text color (gray-900) */
}
th, td { padding: 12px 16px; border-bottom: 1px solid rgba(229,231,235,0.6); }
.thead th, thead th { background: rgba(243,244,246,0.6); color: #111827; font-weight: 600; }

/* Zebra striping and hover */
/* make table rows slightly translucent so animated bg colors show through
  while keeping text readable */
tbody tr:nth-child(odd) { background: rgba(255,255,255,0.70); }
tbody tr:nth-child(even) { background: rgba(255,255,255,0.58); }
tbody tr:hover { background: rgba(239,242,255,0.72); }
.controls { display:flex; gap:10px; margin-bottom:14px; align-items:center }
.pagination { display:flex; gap:6px; align-items:center }
.btn { padding:8px 12px; border-radius:6px; border:1px solid rgba(0,0,0,0.08); background: rgba(255,255,255,0.65); cursor:pointer; transition: transform .06s ease, box-shadow .12s ease; }
.btn-primary { background: rgba(0,123,255,0.9); color:#fff; border-color: rgba(0,0,0,0.06); }
.btn-primary:hover { filter: brightness(0.96); }
.btn:active { transform: translateY(1px); }

/* Disabled button/input states */
.btn[disabled], .btn[aria-disabled="true"] {
  background: rgba(203,213,224,0.9); /* light gray */
  color: rgba(51,65,85,0.9);
  border-color: rgba(148,163,184,0.6);
  cursor: not-allowed;
  box-shadow: none;
  filter: none;
}
.btn-primary[disabled], .btn-primary[aria-disabled="true"] {
  background: rgba(203,213,224,0.95);
  color: rgba(51,65,85,0.95);
}

.controls input[disabled] {
  background: rgba(243,244,246,0.92);
  color: rgba(74,85,104,0.9);
  cursor: not-allowed;
}

/* Input / select visible styles */
.controls input, .controls select, .controls textarea {
  padding: 10px 12px;
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 8px;
  background: rgba(255,255,255,0.72);
  color: #111;
}
.controls input:focus, .controls select:focus, .controls textarea:focus {
  outline: none;
  border-color: #80bdff;
  box-shadow: 0 0 0 3px rgba(0,123,255,0.12);
}
.small { font-size:0.9rem }
/* Utility fallback in case Tailwind isn't active in some environments */
.text-center { text-align: center; }
/* Truncate long website URLs inside table cells */
.website-cell {
  max-width: 380px; /* adjust as needed */
  /* allow wrapping so long URLs don't force table width */
  white-space: normal;
  word-break: break-word;
}
.website-cell a { display: inline; max-width: 100%; word-break: break-word; white-space: normal; color: #0066cc }

/* Make table headers clearer when sortable */
th { text-align: left }

/* Phone column styling to prevent it from collapsing */
.phone-cell {
  min-width: 140px; /* ensures phone column is readable */
  white-space: nowrap; /* phone numbers generally shouldn't wrap */
  font-family: monospace;
}

phone-cell a { color: inherit; text-decoration: none }

/* Respect reduced-motion preference */
@media (prefers-reduced-motion: reduce) {
  .bg-blob { animation: none !important; }
}

/* Footer styles */
.app-footer {
  position: relative;
  z-index: 12; /* above container */
  display: flex;
  justify-content: center;
  padding: 16px 12px;
  margin-top: 18px;
}
.footer-inner {
  background: rgba(255,255,255,0.6);
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.95rem;
  color: rgba(17,24,39,0.9);
  box-shadow: 0 1px 8px rgba(16,24,40,0.04);
}
.footer-link { color: #0366d6; text-decoration: none; margin-left: 6px }
.footer-link:hover { text-decoration: underline }

/* Login styles */
.login-wrap {
  display:flex;
  align-items:center;
  justify-content:center;
  min-height: 80vh;
  padding: 24px;
}
.login-card {
  width: 420px;
  background: #ffffff;
  padding: 20px 22px;
  border-radius: 12px;
  box-shadow: 0 8px 30px rgba(3,7,18,0.08);
  border: 1px solid rgba(16,24,40,0.04);
  /* Prevent any blend modes or backdrop effects from bleeding into the card */
  isolation: isolate;
  mix-blend-mode: normal;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  position: relative;
  z-index: 20;
}
.login-title { margin:0 0 6px 0; font-size:1.25rem }
.login-sub { margin:0 0 12px 0; color: #475569; font-size:0.95rem }
.login-label { display:block; margin-top:10px; margin-bottom:6px; color:#334155; font-weight:600; }
.login-input { width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); background: #ffffff; color: #0b1a2b; }
.login-card .btn { background: #ffffff; color: #0b1a2b; border: 1px solid rgba(0,0,0,0.08); }
.login-card .btn-primary { background: #007bff; color:#fff; border-color: #007bff }
.login-card .btn:hover { box-shadow: 0 4px 14px rgba(3,7,18,0.06); }

/* Ensure children do not inherit blend effects */
.login-card, .login-card * { mix-blend-mode: normal !important; }
.login-error { background: rgba(248,215,218,0.9); color: #842029; padding:8px 10px; border-radius:8px; margin-bottom:8px; border:1px solid rgba(220,53,69,0.12) }

@media (max-width: 520px) {
  .login-card { width: calc(100% - 32px); }
  .container { padding: 14px }
}

/* Search validation error */
.search-error { color: #842029; background: rgba(248,215,218,0.9); padding: 8px 10px; border-radius: 6px; margin-top: 8px; border: 1px solid rgba(220,53,69,0.12); }

/* tooltip near search button */
.controls { position: relative; align-items: center }
.search-tooltip {
  display: inline-block;
  margin-left: 10px; /* sit to right of button */
  vertical-align: middle;
  background: rgba(250,215,160,0.98); /* warm highlight */
  color: #5a3e00;
  padding: 8px 12px;
  border-radius: 8px;
  box-shadow: 0 6px 20px rgba(2,6,23,0.12);
  border: 1px solid rgba(0,0,0,0.06);
  cursor: pointer;
  z-index: 30;
  animation: tooltipPop .28s cubic-bezier(.2,.9,.3,1);
  white-space: nowrap;
}

@keyframes tooltipPop {
  from { transform: translate(80%, -50%) scale(.92); opacity: 0 }
  60% { transform: translate(102%, -50%) scale(1.02); opacity: 1 }
  to { transform: translate(100%, -50%) scale(1); opacity: 1 }
}

/* Snackbar / toast */
.snackbar {
  position: fixed;
  right: 18px;
  bottom: 22px;
  z-index: 9999;
  pointer-events: auto;
}
.snackbar-inner {
  display:flex; align-items:center; gap:10px;
  /* Use the animated background color palette: blend two radial gradients
     (blue/cyan and green) so the toast picks up the same tones as the blobs. */
  background-image:
    radial-gradient(circle at 20% 30%, rgba(125,211,252,0.96) 0%, rgba(96,165,250,0.92) 28%, rgba(59,130,246,0.86) 58%),
    radial-gradient(circle at 80% 70%, rgba(187,247,208,0.92) 0%, rgba(134,239,172,0.88) 30%, rgba(16,185,129,0.80) 60%);
  background-size: 260% 260%, 220% 220%;
  background-position: 0% 0%, 100% 100%;
  background-blend-mode: screen;
  color: #071124; /* dark text for better contrast against the light blended background */
  padding: 10px 14px; border-radius: 10px;
  box-shadow: 0 12px 36px rgba(2,6,23,0.22);
  border: 1px solid rgba(255,255,255,0.08);
  transform-origin: bottom right;
  animation: snackbarIn .28s cubic-bezier(.2,.9,.3,1), snackbarBgShift 8s ease-in-out infinite;
  /* subtle light highlight to slightly lift the text off the gradient */
  text-shadow: 0 1px 0 rgba(255,255,255,0.06);
}
.snackbar-message { font-size: 0.95rem; color: #071124; }
.snackbar-close { background: transparent; border: none; color: rgba(7,17,36,0.8); font-size: 14px; cursor: pointer }

@keyframes snackbarIn {
  from { transform: translateY(8px) scale(.98); opacity: 0 }
  to { transform: translateY(0) scale(1); opacity: 1 }
}

@keyframes snackbarBgShift {
  0% { background-position: 0% 0%, 100% 100%; }
  25% { background-position: 6% 4%, 94% 96%; }
  50% { background-position: 12% 8%, 88% 92%; }
  75% { background-position: 6% 4%, 94% 96%; }
  100% { background-position: 0% 0%, 100% 100%; }
}

@media (prefers-reduced-motion: reduce) {
  .snackbar-inner { animation: snackbarIn .28s cubic-bezier(.2,.9,.3,1); background-position: 0% 0%, 100% 100%; }
}

/* Lightweight full-screen loading overlay */
.loading-overlay {
  position: fixed;
  inset: 0;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(2px);
  z-index: 9000;
  display: flex;
  align-items: center;
  justify-content: center;
}
.loading-inner { display:flex; flex-direction:column; align-items:center; gap:10px; padding: 14px 18px; background: rgba(255,255,255,0.9); border-radius: 12px; box-shadow: 0 10px 30px rgba(3,7,18,0.12); border: 1px solid rgba(0,0,0,0.04) }
.loading-text { color: #0f172a; font-weight: 600 }
.spinner {
  width: 28px; height: 28px;
  border: 3px solid rgba(0,0,0,0.08);
  border-top-color: #3b82f6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
/* Small inline spinner for buttons/controls */
.spinner-sm { width: 20px; height: 20px; border-width: 3px; }
@keyframes spin { to { transform: rotate(360deg) } }

/* Empty state card */
.empty-card {
  display: flex;
  align-items: center;
  gap: 16px;
  background: rgba(255,255,255,0.88);
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 12px;
  padding: 18px 16px;
  margin: 12px 0;
  box-shadow: 0 8px 24px rgba(2,6,23,0.06);
}
.empty-anim { animation: floatY 2.6s ease-in-out infinite; filter: drop-shadow(0 2px 10px rgba(59,130,246,0.18)); }
.empty-title { font-weight: 700; color: #0f172a; margin-bottom: 4px }
.empty-sub { color: #475569; font-size: 0.95rem }
@keyframes floatY { 0% { transform: translateY(0) } 50% { transform: translateY(-6px) } 100% { transform: translateY(0) } }
